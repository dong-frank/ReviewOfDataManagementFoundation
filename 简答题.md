# 简答题整理
## 文件系统和数据库系统在数据共享性和持久性的区别, 及各自的应用
- 文件系统数据可长久保存, 但共享性差, 数据整体无结构, 数据的独立性差
- 数据库系统共享性好, 面向多个用户应用程序, 数据独立性强, 数据整体结构化
- 文件系统应用: 如文档编辑软件
- 数据库系统应用: 如库存管理软件

## 什么是概念模型, 逻辑模型, 物理模型
- 概念模型是按照用户的观点对现实世界进行抽象, 将现实世界抽象为信息世界
- 逻辑模型是按照计算机系统的观点对数据进行建模, 用于DBMS实现
- 物理模型是对数据最底层的抽象, 描述数据实际的表示方式和存取方式


## 什么是模式, 什么是实例
- 模式是对数据库系统型的描述, 描述数据库的逻辑结构和特征, 不涉及具体的值, 是静态的
- 实例是模式的一个具体值, 反映某一时刻数据库的状态, 实例随数据库中数据的更新而动态变化, 是动态的


## 数据库系统的三级模式结构及其优点
三级模式结构是外模式, 模式和内模式
- 用户的应用程序只能访问其对应的外模式的数据范围, 不会影响到数据库中其他无关的数据, 安全性高
- 当需要增加应用程序时, 根据程序的需要增加外模式即可完成扩展, 不用对数据库的模式和内模式进行修改
- 当数据库的逻辑模式需要更改, 或存储结构需要改变时, 只需要修改对应的外模式/模式映像或模式/内模式映像即可, 不用对应用程序进行修改,保证了应用程序和数据库的独立性

## 如何保证数据的独立性
由数据库的二级映像保证数据的独立性
- 外模式/模式映像, 保证了数据与程序的逻辑独立性
- 模式/内模式映像, 保证了数据与程序的物理独立性

## 什么是关系的完整性约束
- 实体完整性, 要求关系的主属性不能为空
- 参照完整性, 要求关系的外码要么为空, 要么为对应的目标关系中某个元组的主码
- 用户定义完整性, 反映某一具体应用场景所涉及的应用必须满足的语义要求

## 关系代数和SQL的转换
注意点
1. 投影是会自动去除重复值的, 因为在关系代数中对象是集合, 所以转化为SQL需要加上DISTINCT关键字
2. $R\Join S$表示两个关系的自然连接, 要注意去除重复的属性列


## 数据库的完整性与数据库安全性的区别和联系
1. 区别: 数据完整性指数据库中数据的一致性和正确性, 包括实体完整性, 参照完整性和用户定义完整性, 关注数据本身的逻辑规则和约束; 安全性指数据库中数据不被未授权访问, 不被篡改
2. 联系: 共同保障了数据库的数据的准确和可靠

## 为什么要先写日志文件
- 写数据库和写日志文件是两个不同的操作
- 在这两个操作之间可能发生故障
- 如果先写了数据库, 而在日志文件中没有登记下这个修改, 则以后就无法恢复这个修改了
- 如果先写日志, 但没有修改数据库, 按日志文件恢复时只不过多执行一次不必要的UNDO, 并不会影响数据库的正确性

## 为什么要引进意向锁, 意向锁的含义是什么
- 引进意向锁, 目的是提高对某个数据对象加锁时系统的检查效率
- 含义是对任一节点加锁时, 必须对他的上层节点加相应的意向锁


## 垂直分解和水平分解的利弊, 和各自的应用场景
对关系模式进行必要分解, 提高数据操作效率和存储空间的利用率
- 水平分解: 把基本关系的元组分为若干子集合, 定义每个子集合为一个子关系, 以提高系统效率 **82原则, 将经常用到的20%数据分解出来**
- 垂直分解: 把关系模式的属性分解为若干子集合, 形成若干子关系模式 **经常在一起使用的属性分解出来**
- 垂直分解的优点: 可以提升某些事务的效率; 缺点是有些事务不得不进行连接操作, 降低了效率