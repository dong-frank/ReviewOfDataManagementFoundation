# Ch42 逻辑结构设计
## 逻辑结构设计的任务
把概念结构设计阶段的基本E-R图转换为与所选用的数据库管理系统支持的数据模型想符合的逻辑结构

转换内容
- E-R图由实体型, 实体的属性, 实体型之间的联系组成
- 关系模型的逻辑结构是一组关系模式的集合
> 关系模式: 对关系的描述 ```关系名(属性1, 属性2, ..., 属性n)```
### 转换原则
1. 一个实体型转换为一个关系模式
   1. 实体的属性 -> 关系的属性
   2. 实体的码 -> 关系的码
2. 1:1联系可以转换为一个独立的关系模式, 也可以与任意一端对应的关系模式合并
3. 1:n联系可以转换为一个独立的关系模式, 也可以与n端对应的关系模式合并
4. m:n联系转换为一个关系模式 *例如选修联系*
5. 多元联系转换为一个关系模式
6. 关系模式的合并: 具有相同码的关系模式可以合并, 以减少系统中关系个数

## 数据模型的优化
以规范化理论为指导进行优化

## 关系模式的分解
对关系模式进行必要分解, 提高数据操作效率和存储空间的利用率
- 水平分解: 把基本关系的元组分为若干子集合, 定义每个子集合为一个子关系, 以提高系统效率 **82原则, 将经常用到的20%数据分解出来**
- 垂直分解: 把关系模式的属性分解为若干子集合, 形成若干子关系模式 **经常在一起使用的属性分解出来**

## 设计用户子模式(外模式)
从系统的时间效率, 空间效率, 易维护等角度出发
- 使用更符合用户习惯的别名
- 针对不同级别的用户定义不同的视图, 以保证系统的安全性
- 简化用户对系统的使用
