# Ch39 概念模型和ER模型

## 概念模型
将用户需求抽象为信息结构的过程就是概念结构设计

用E-R模型描述概念模型

### 两个实体之间的联系
一对一联系(1:1)
- 如果对于实体集A的每一个实体, 实体集B中至多有一个实体与之联系

一对多联系(1:n)
- 如果对于实体集A的每一个实体, 实体集B中有n个实体与之联系

多对多联系(m:n)
- 如果对于实体集A的每一个实体, 实体集B中有n个实体与之联系, 反之, 实体集B中的每一个实体, 实体集A中也有m个实体与之联系

实体集之间的联系也存在于同一个实体集内部



### E-R图模型
联系的度: 参与联系的实体型的数目

实体型: 用矩形表示

属性: 用椭圆形表示

联系: 用菱形表示, 并用无向边与有关实体型连接起来, 同时在旁标上联系的类型
- 联系可以具有属性

ISA联系: 有的实体型是某个实体型的子类型,这种父类-子类的联系称为ISA联系, 用三角形表示
- 性质: 子类继承了父类的所有属性, 子类也可以有自己的属性
在三角形旁标注分类属性
- 分类属性是父实体型的一个属性
- 把父实体型中的实体分派到子实体型中

ISA联系的不相交约束与可重叠约束
- 不相交约束: 父类的一个实体不能同时属于多个子类中的实体集, 在三角形中画一个叉号表示
- 可重叠约束: 父类中的一个实体能同时属于多个子类中的实体集, 三角形中没有叉号

ISA联系的完备性约束
- 描述父类中的一个实体是否必须是某一个子类中的实体
- 如果是, 则叫做完全特化, 父类到子类用双线连接
- 否则叫做部分特化, 父类到子类用单线连接


基数约束: 说明实体型中的任何一个实体可以在联系中出现的最少和最多次数, 是对一对一, 一对多, 多对多联系的细化 $min..max$表示, 其中$*$表示无穷大
- $min=1$的约束称为强制参与约束, 即被施加基数约束的实体型中的每个实体都要参与联系
- $min=0$的约束称为非强制参与约束


Part-of 联系
- 描述某个实体型是另一个实体型的一部分
- 非独占的Part-of联系, 简称非独占联系 **整体实体如果被破坏, 另一部分实体仍然可以独立存在**
  - 用非强制参与约束表示
- 独占的Part-of联系, 简称独占联系 **整体实体如果被破坏, 部分实体不能存在**
  - 用弱实体类型和识别联系表示

弱实体型: 如果一个实体型的存在依赖于其他实体型的存在, 则这个实体型叫做弱实体型, 否则叫做强实体型

用双矩形表示弱实体型, 双菱形表示识别联系